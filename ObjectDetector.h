#ifndef OBJECT_DETECTOR_H
#define OBJECT_DETECTOR_H

#include "Common.h"
#include "Detection.h"
#include "ParametersMap.h"
#include "SupportVectorMachine.h"

using namespace cv;

// Class responsible for performing Non-Maxima Suppression on the response
// pyramid generated by SupportVectorMachine
class ObjectDetector
{
public:
    ObjectDetector(const SupportVectorMachine& svm);
    ~ObjectDetector();

    void getDetections(Mat img, vector<Rect>& found);
    void detect(const Mat& img, vector<Point>& hits, vector<double>& weights, double hitThreshold,
							Size winStride, Size padding, const vector<Point>& locations, HOGDescriptor* hog);
private:
	// HOGDescriptor _hog;
	// vector<float> _svmDetector;
    Size _winSize;
    Size _blockSize;
    Size _blockStride;
    Size _cellSize;
    int _nbins;

    SupportVectorMachine _svm;
    vector<float> _svmDetector;

};

#endif // OBJECT_DETECTOR_H